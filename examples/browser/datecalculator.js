!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.datecalculator=n():e.datecalculator=n()}(this,function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,o=t(1),u=(r=o)&&r.__esModule?r:{default:r};var a=(0,t(2).simple)(u.default);n.default=a,e.exports=n.default},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=n.NATIVEDATE="NATIVEDATE",o=n.DATEXPRESION="DATEXPRESION",u=n.DURATIONEXPRESSION="DURATIONEXPRESSION",a=n.DURATIONOBJECT="DURATIONOBJECT",i=function(e){return function(){throw new Error(e)}},s=function(e){var n={},t=function e(n){return n?(n^16*Math.random()>>n/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},s=Object.assign({makeDuration:i('"makeDuration" option missing'),makeDate:i('"makeDate" option missing'),plus:i('"plus" option missing'),minus:i('"minus" option missing'),multiply:i('"multiply" option missing'),divide:i('"divide" option missing')},e,{makeDuration:e.makeDuration,makeDate:e.makeDate,interpolation:function(e){return n[e]}}),$=function(){function e(n,t,r,o){this.message=n,this.expected=t,this.found=r,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return function(e,n){function t(){this.constructor=e}t.prototype=n.prototype,e.prototype=new t}(e,Error),e.buildMessage=function(e,n){var t={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var n,t="";for(n=0;n<e.parts.length;n++)t+=e.parts[n]instanceof Array?u(e.parts[n][0])+"-"+u(e.parts[n][1]):u(e.parts[n]);return"["+(e.inverted?"^":"")+t+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function u(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}return"Expected "+function(e){var n,r,o,u=new Array(e.length);for(n=0;n<e.length;n++)u[n]=(o=e[n],t[o.type](o));if(u.sort(),u.length>0){for(n=1,r=1;n<u.length;n++)u[n-1]!==u[n]&&(u[r]=u[n],r++);u.length=r}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(n)+" found."},{SyntaxError:e,parse:function(n,t){t=void 0!==t?t:{};var i,s={},$={Expression:0},c=0,f=["+",b("+",!1),"-",b("-",!1),function(e,n){return n.reduce(function(e,n){return"+"===n[1]?t.plus(e,n[3]):"-"===n[1]?t.minus(e,n[3]):void 0},e)},"*",b("*",!1),"/",b("/",!1),function(e,n){return n.reduce(function(e,n){return"*"===n[1]?t.multiply(e,n[3]):"/"===n[1]?t.divide(e,n[3]):void 0},e)},"(",b("(",!1),")",b(")",!1),function(e){return e},w("duration"),"P",b("P",!1),"T",b("T",!1),function(e,n,t,r,o,u,a){return{hours:o,minutes:u,seconds:a}},"",function(e,n,t,r){return{}},function(e,n,r,o,u){return t.makeDuration(Object.assign({},u,{years:e,months:n,weeks:r,days:o}),{type:a})},/^[0-9,.]/,D([["0","9"],",","."],!1,!1),"H",b("H",!1),function(){return parseFloat(k())},function(){return 0},"M",b("M",!1),"S",b("S",!1),"Y",b("Y",!1),"W",b("W",!1),"D",b("D",!1),w("optionalplusminus"),w("now"),"now",b("now",!0),"today",b("today",!0),"now()",b("now()",!0),"today()",b("today()",!0),function(){return t.makeDate(new Date,{type:r})},w("interpoltion"),"%",b("%",!1),/^[^%]/,D(["%"],!0,!1),function(e){return t.interpolation(e.join(""))},w("dateExpression"),"{",b("{",!1),/^[^}]/,D(["}"],!0,!1),"}",b("}",!1),function(e){return t.makeDate(e.join(""),{type:o})},w("durationExpression"),"[",b("[",!1),/^[^\]]/,D(["]"],!0,!1),"]",b("]",!1),function(e){return t.makeDuration(e.join(""),{type:u})},w("dateyear"),"19",b("19",!1),/^[7-9]/,D([["7","9"]],!1,!1),/^[0-9]/,D([["0","9"]],!1,!1),/^[2-9]/,D([["2","9"]],!1,!1),function(){return t.makeDate(new Date(parseInt(k(),10)),{type:r})},w("datemonth"),function(e,n){return t.makeDate(new Date(parseInt(e.join(""),10),parseInt(n.join(""),10)-1),{type:r})},w("completedate"),function(e,n,o){return t.makeDate(new Date(parseInt(e.join(""),10),parseInt(n.join(""),10)-1,parseInt(o.join(""),10)),{type:r})},w("datetime"),":",b(":",!1),function(){return t.makeDate(new Date(k()),{type:r})},w("datetimesec"),w("date"),".",b(".",!1),function(e,n,o,u,a,i,s,$){return t.makeDate(new Date(parseInt(e.join(""),10),parseInt(n.join(""),10)-1,parseInt(o.join(""),10),parseInt(u.join(""),10),parseInt(a.join(""),10),parseInt(i.join(""),10),parseInt(s.join(""),10)),{type:r})},w("month"),"12",b("12",!1),"11",b("11",!1),"10",b("10",!1),"0",b("0",!1),/^[1-9]/,D([["1","9"]],!1,!1),w("day"),"31",b("31",!1),"30",b("30",!1),"2",b("2",!1),"1",b("1",!1),w("hour"),/^[0-3]/,D([["0","3"]],!1,!1),w("minute"),/^[0-5]/,D([["0","5"]],!1,!1),w("second"),w("millisecond"),w("tiezone"),"Z",b("Z",!1),w("plusorminus"),w("quarter"),"quarter",b("quarter",!0),"s",b("s",!1),function(){return t.makeDuration({quarters:parseFloat(k(),10)},{type:a})},w("shortquarter"),w("weekday"),"weekday",b("weekday",!0),function(){return t.makeDuration({weekdays:parseFloat(k(),10)},{type:a})},w("shortweekday"),"wd",b("wd",!1),w("year"),"year",b("year",!0),function(){return t.makeDuration({years:parseFloat(k(),10)},{type:a})},w("shortyear"),"a",b("a",!1),w("ms"),"ms",b("ms",!1),function(){return t.makeDuration({milliseconds:parseFloat(k(),10)},{type:a})},"millisecond",b("millisecond",!0),"month",b("month",!0),function(){return t.makeDuration({months:parseFloat(k(),10)},{type:a})},w("Shortmonth"),"m",b("m",!1),"minute",b("minute",!0),function(){return t.makeDuration({minutes:parseFloat(k(),10)},{type:a})},w("shortminutes"),"min",b("min",!0),w("shorterminutes"),"mm",b("mm",!1),"hour",b("hour",!0),function(){return t.makeDuration({hours:parseFloat(k(),10)},{type:a})},w("shorthour"),"h",b("h",!1),"day",b("day",!0),function(){return t.makeDuration({days:parseFloat(k(),10)},{type:a})},w("shortday"),"d",b("d",!1),w("week"),"week",b("week",!0),function(){return t.makeDuration({weeks:parseFloat(k(),10)},{type:a})},w("fortnight"),"fortnight",b("fortnight",!0),function(){return t.makeDuration({weeks:2*parseFloat(k(),10)},{type:a})},w("Shortfortnight"),"fn",b("fn",!1),w("shortweek"),"w",b("w",!1),"second",b("second",!0),function(){return t.makeDuration({seconds:parseFloat(k(),10)},{type:a})},w("s"),w("u"),"u",b("u",!1),function(){return{unitless:parseFloat(k(),10)}},w("number"),w("integer"),function(){return{unitless:parseInt(k(),10)}},w("int"),w("float"),w("dot"),w("minus"),"−",b("−",!1),w("whitespace"),/^[ \t\n\r]/,D([" ","\t","\n","\r"],!1,!1)],l=[x(";!"),x('%;"/§#$%;^/P#2 ""6 7!.) &2"""6"7#/5$;^/,$;"/#$+$)($\'#(#\'#("\'#&\'#0Z*%;^/P#2 ""6 7!.) &2"""6"7#/5$;^/,$;"/#$+$)($\'#(#\'#("\'#&\'#&/)$8":$""! )("\'#&\'#'),x("%;#/§#$%;^/P#2%\"\"6%7&.) &2'\"\"6'7(/5$;^/,$;#/#$+$)($'#(#'#(\"'#&'#0Z*%;^/P#2%\"\"6%7&.) &2'\"\"6'7(/5$;^/,$;#/#$+$)($'#(#'#(\"'#&'#&/)$8\":)\"\"! )(\"'#&'#"),x('%2*""6*7+/R#;^/I$;!/@$;^/7$2,""6,7-/($8%:.%!")(%\'#($\'#(#\'#("\'#&\'#.# &;$'),x(";0.ï &;/.é &;[.ã &;..Ý &;%.× &;7.Ñ &;6.Ë &;5.Å &;4.¿ &;3.¹ &;2.³ &;D.­ &;E.§ &;F.¡ &;G. &;R. &;H. &;J. &;K. &;L.} &;I.w &;M.q &;S.k &;N.e &;O._ &;P.Y &;Q.S &;C.M &;B.G &;U.A &;V.; &;@.5 &;A./ &;T.) &;W.# &;Y"),x("<%;-/³#20\"\"6071/¤$;)/$;*/$;+/$;,/$%22\"\"6273/I#;&/@$;'/7$;(/.$8$:4$'('&%\"! )($'#(#'#(\"'#&'#.2 &% 5/* 8!:6!$%$#\")/,$8':7'%$#\"! )(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7/"),x('%%;-/N#$48""5!790)*48""5!79&/2$2:""6:7;/#$+#)(#\'#("\'#&\'#/& 8!:<! ).. &% 5/& 8!:=! )'),x('%%;-/N#$48""5!790)*48""5!79&/2$2>""6>7?/#$+#)(#\'#("\'#&\'#/& 8!:<! ).. &% 5/& 8!:=! )'),x('%%;-/N#$48""5!790)*48""5!79&/2$2@""6@7A/#$+#)(#\'#("\'#&\'#/& 8!:<! ).. &% 5/& 8!:=! )'),x('%%;-/N#$48""5!790)*48""5!79&/2$2B""6B7C/#$+#)(#\'#("\'#&\'#/& 8!:<! ).. &% 5/& 8!:=! )'),x('%%;-/N#$48""5!790)*48""5!79&/2$2>""6>7?/#$+#)(#\'#("\'#&\'#/& 8!:<! ).. &% 5/& 8!:=! )'),x('%%;-/N#$48""5!790)*48""5!79&/2$2D""6D7E/#$+#)(#\'#("\'#&\'#/& 8!:<! ).. &% 5/& 8!:=! )'),x('%%;-/N#$48""5!790)*48""5!79&/2$2F""6F7G/#$+#)(#\'#("\'#&\'#/& 8!:<! ).. &% 5/& 8!:=! )'),x('<2 ""6 7!./ &2"""6"7#.# & 5=." 7H'),x('<%3J""5#7K.A &3L""5%7M.5 &3N""5%7O.) &3P""5\'7Q/& 8!:R! )=." 7I'),x('<%2T""6T7U/Y#$4V""5!7W/,#0)*4V""5!7W&&&#/7$2T""6T7U/($8#:X#!!)(#\'#("\'#&\'#=." 7S'),x('<%2Z""6Z7[/Y#$4\\""5!7]/,#0)*4\\""5!7]&&&#/7$2^""6^7_/($8#:`#!!)(#\'#("\'#&\'#=." 7Y'),x('<%2b""6b7c/Y#$4d""5!7e/,#0)*4d""5!7e&&&#/7$2f""6f7g/($8#:h#!!)(#\'#("\'#&\'#=." 7a'),x('<%%2j""6j7k/A#4l""5!7m/2$4n""5!7o/#$+#)(#\'#("\'#&\'#.` &%4p""5!7q/P#4n""5!7o/A$4n""5!7o/2$4n""5!7o/#$+$)($\'#(#\'#("\'#&\'#/& 8!:r! )=." 7i'),x('<%;Z/A#2"""6"7#/2$;8/)$8#:t#"" )(#\'#("\'#&\'#=." 7s'),x('<%;Z/Z#2"""6"7#/K$;8/B$2"""6"7#/3$;9/*$8%:v%#$" )(%\'#($\'#(#\'#("\'#&\'#=." 7u'),x('<%%;Z/#2"""6"7#/}$;8/t$2"""6"7#/e$;9/\\$22""6273/M$;:/D$2x""6x7y/5$;;/,$;>/#$+*)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#. &%;Z/#2"""6"7#/t$;8/k$2"""6"7#/\\$;9/S$22""6273/D$;:/;$2x""6x7y/,$;;/#$+))()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#/& 8!:z! )=." 7w'),x('<%%;Z/¤#2"""6"7#/$;8/$2"""6"7#/}$;9/t$22""6273/e$;:/\\$2x""6x7y/M$;;/D$2x""6x7y/5$;</,$;>/#$+,)(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.¥ &%;Z/#2"""6"7#/$;8/$2"""6"7#/t$;9/k$22""6273/\\$;:/S$2x""6x7y/D$;;/;$2x""6x7y/,$;</#$++)(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#/& 8!:z! )=." 7{'),x('<%;Z/È#2"""6"7#/¹$;8/°$2"""6"7#/¡$;9/$22""6273/$;:/$2x""6x7y/q$;;/h$2x""6x7y/Y$;</P$2}""6}7~/A$;=/8$;>//$8.:.(-+)\'%#! )(.\'#(-\'#(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7|'),x('<2""67.f &2""67.Z &2""67.N &%2""67/2#4""5!7/#$+")("\'#&\'#.) &4""5!7=." 7'),x('<2""67.¤ &2""67. &%2""67/2#4n""5!7o/#$+")("\'#&\'#.s &%2""67/2#4n""5!7o/#$+")("\'#&\'#.N &%2""67/2#4""5!7/#$+")("\'#&\'#.) &4""5!7=." 7'),x('<%2""67/2#4""5!7/#$+")("\'#&\'#.s &%2""67/2#4n""5!7o/#$+")("\'#&\'#.N &%2""67/2#4n""5!7o/#$+")("\'#&\'#.) &4n""5!7o=." 7'),x('<%4""5!7/2#4n""5!7o/#$+")("\'#&\'#.) &4n""5!7o=." 7'),x('<%4""5!7/2#4n""5!7o/#$+")("\'#&\'#.) &4n""5!7o=." 7'),x('<%4n""5!7o/A#4n""5!7o/2$4n""5!7o/#$+#)(#\'#("\'#&\'#.N &%4n""5!7o/2#4n""5!7o/#$+")("\'#&\'#.) &4n""5!7o=." 7'),x('<2""67.x &%;?/n#4n""5!7o/_$4n""5!7o/P$2x""6x7y/A$4n""5!7o/2$4n""5!7o/#$+&)(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7'),x('<2 ""6 7!.) &2"""6"7#=." 7'),x('<%;X/S#;^/J$3¡""5\'7¢/;$2£""6£7¤." &"/\'$8$:¥$ )($\'#(#\'#("\'#&\'#=." 7 '),x('<%;X/S#;^/J$3¡""5\'7¢/;$2£""6£7¤." &"/\'$8$:¥$ )($\'#(#\'#("\'#&\'#=." 7¦'),x('<%;X/S#;^/J$3¨""5\'7©/;$2£""6£7¤." &"/\'$8$:ª$ )($\'#(#\'#("\'#&\'#=." 7§'),x('<%;X/S#;^/J$2¬""6¬7­/;$2£""6£7¤." &"/\'$8$:ª$ )($\'#(#\'#("\'#&\'#=." 7«'),x('<%;X/S#;^/J$3¯""5$7°/;$2£""6£7¤." &"/\'$8$:±$ )($\'#(#\'#("\'#&\'#=." 7®'),x('<%;X/S#;^/J$2³""6³7´/;$2£""6£7¤." &"/\'$8$:±$ )($\'#(#\'#("\'#&\'#=." 7²'),x('<%;X/S#;^/J$2¶""6¶7·/;$2£""6£7¤." &"/\'$8$:¸$ )($\'#(#\'#("\'#&\'#=." 7µ'),x('<%;X/S#;^/J$3¹""5+7º/;$2£""6£7¤." &"/\'$8$:¸$ )($\'#(#\'#("\'#&\'#=." 7'),x('<%;X/S#;^/J$3»""5%7¼/;$2£""6£7¤." &"/\'$8$:½$ )($\'#(#\'#("\'#&\'#=." 7'),x('<%;X/S#;^/J$2¿""6¿7À/;$2£""6£7¤." &"/\'$8$:½$ )($\'#(#\'#("\'#&\'#=." 7¾'),x('<%;X/S#;^/J$3Á""5&7Â/;$2£""6£7¤." &"/\'$8$:Ã$ )($\'#(#\'#("\'#&\'#=." 7'),x('<%;X/S#;^/J$3Å""5#7Æ/;$2£""6£7¤." &"/\'$8$:Ã$ )($\'#(#\'#("\'#&\'#=." 7Ä'),x('<%;X/S#;^/J$2È""6È7É/;$2£""6£7¤." &"/\'$8$:Ã$ )($\'#(#\'#("\'#&\'#=." 7Ç'),x('<%;X/S#;^/J$3Ê""5$7Ë/;$2£""6£7¤." &"/\'$8$:Ì$ )($\'#(#\'#("\'#&\'#=." 7'),x('<%;X/S#;^/J$2Î""6Î7Ï/;$2£""6£7¤." &"/\'$8$:Ì$ )($\'#(#\'#("\'#&\'#=." 7Í'),x('<%;X/S#;^/J$3Ð""5#7Ñ/;$2£""6£7¤." &"/\'$8$:Ò$ )($\'#(#\'#("\'#&\'#=." 7'),x('<%;X/S#;^/J$2Ô""6Ô7Õ/;$2£""6£7¤." &"/\'$8$:Ò$ )($\'#(#\'#("\'#&\'#=." 7Ó'),x('<%;X/S#;^/J$3×""5$7Ø/;$2£""6£7¤." &"/\'$8$:Ù$ )($\'#(#\'#("\'#&\'#=." 7Ö'),x('<%;X/S#;^/J$3Û""5)7Ü/;$2£""6£7¤." &"/\'$8$:Ý$ )($\'#(#\'#("\'#&\'#=." 7Ú'),x('<%;X/S#;^/J$2ß""6ß7à/;$2£""6£7¤." &"/\'$8$:Ý$ )($\'#(#\'#("\'#&\'#=." 7Þ'),x('<%;X/S#;^/J$2â""6â7ã/;$2£""6£7¤." &"/\'$8$:Ù$ )($\'#(#\'#("\'#&\'#=." 7á'),x('<%;X/S#;^/J$3ä""5&7å/;$2£""6£7¤." &"/\'$8$:æ$ )($\'#(#\'#("\'#&\'#=." 7'),x('<%;X/S#;^/J$2£""6£7¤/;$2£""6£7¤." &"/\'$8$:æ$ )($\'#(#\'#("\'#&\'#=." 7ç'),x('<%;X/S#;^/J$2é""6é7ê/;$2£""6£7¤." &"/\'$8$:ë$ )($\'#(#\'#("\'#&\'#=." 7è'),x('<;[.# &;Y=." 7ì'),x('<%;^/I#$4n""5!7o/,#0)*4n""5!7o&&&#/\'$8":î" )("\'#&\'#=." 7í'),x('<$4n""5!7o/,#0)*4n""5!7o&&&#=." 7ï'),x('<%;^/t#$4n""5!7o/,#0)*4n""5!7o&&&#/R$;\\/I$$4n""5!7o/,#0)*4n""5!7o&&&#/\'$8$:ë$ )($\'#(#\'#("\'#&\'#=." 7ð'),x('<2}""6}7~=." 7ñ'),x('<2ó""6ó7ô.) &2"""6"7#=." 7ò'),x('<$4ö""5!7÷0)*4ö""5!7÷&=." 7õ')],p=0,d=0,h=[{line:1,column:1}],m=0,y=[],g=0;if("startRule"in t){if(!(t.startRule in $))throw new Error("Can't start parsing from rule \""+t.startRule+'".');c=$[t.startRule]}function k(){return n.substring(d,p)}function b(e,n){return{type:"literal",text:e,ignoreCase:n}}function D(e,n,t){return{type:"class",parts:e,inverted:n,ignoreCase:t}}function w(e){return{type:"other",description:e}}function S(e){var t,r=h[e];if(r)return r;for(t=e-1;!h[t];)t--;for(r={line:(r=h[t]).line,column:r.column};t<e;)10===n.charCodeAt(t)?(r.line++,r.column=1):r.column++,t++;return h[e]=r,r}function v(e,n){var t=S(e),r=S(n);return{start:{offset:e,line:t.line,column:t.column},end:{offset:n,line:r.line,column:r.column}}}function E(e){p<m||(p>m&&(m=p,y=[]),y.push(e))}function O(n,t,r){return new e(e.buildMessage(n,t),n,t,r)}function x(e){var n,t=new Array(e.length);for(n=0;n<e.length;n++)t[n]=e.charCodeAt(n)-32;return t}if((i=function e(t){for(var r,o,u=l[t],a=0,i=[],$=u.length,c=[],h=[];;){for(;a<$;)switch(u[a]){case 0:h.push(f[u[a+1]]),a+=2;break;case 1:h.push(void 0),a++;break;case 2:h.push(null),a++;break;case 3:h.push(s),a++;break;case 4:h.push([]),a++;break;case 5:h.push(p),a++;break;case 6:h.pop(),a++;break;case 7:p=h.pop(),a++;break;case 8:h.length-=u[a+1],a+=2;break;case 9:h.splice(-2,1),a++;break;case 10:h[h.length-2].push(h.pop()),a++;break;case 11:h.push(h.splice(h.length-u[a+1],u[a+1])),a+=2;break;case 12:h.push(n.substring(h.pop(),p)),a++;break;case 13:c.push($),i.push(a+3+u[a+1]+u[a+2]),h[h.length-1]?($=a+3+u[a+1],a+=3):($=a+3+u[a+1]+u[a+2],a+=3+u[a+1]);break;case 14:c.push($),i.push(a+3+u[a+1]+u[a+2]),h[h.length-1]===s?($=a+3+u[a+1],a+=3):($=a+3+u[a+1]+u[a+2],a+=3+u[a+1]);break;case 15:c.push($),i.push(a+3+u[a+1]+u[a+2]),h[h.length-1]!==s?($=a+3+u[a+1],a+=3):($=a+3+u[a+1]+u[a+2],a+=3+u[a+1]);break;case 16:h[h.length-1]!==s?(c.push($),i.push(a),$=a+2+u[a+1],a+=2):a+=2+u[a+1];break;case 17:c.push($),i.push(a+3+u[a+1]+u[a+2]),n.length>p?($=a+3+u[a+1],a+=3):($=a+3+u[a+1]+u[a+2],a+=3+u[a+1]);break;case 18:c.push($),i.push(a+4+u[a+2]+u[a+3]),n.substr(p,f[u[a+1]].length)===f[u[a+1]]?($=a+4+u[a+2],a+=4):($=a+4+u[a+2]+u[a+3],a+=4+u[a+2]);break;case 19:c.push($),i.push(a+4+u[a+2]+u[a+3]),n.substr(p,f[u[a+1]].length).toLowerCase()===f[u[a+1]]?($=a+4+u[a+2],a+=4):($=a+4+u[a+2]+u[a+3],a+=4+u[a+2]);break;case 20:c.push($),i.push(a+4+u[a+2]+u[a+3]),f[u[a+1]].test(n.charAt(p))?($=a+4+u[a+2],a+=4):($=a+4+u[a+2]+u[a+3],a+=4+u[a+2]);break;case 21:h.push(n.substr(p,u[a+1])),p+=u[a+1],a+=2;break;case 22:h.push(f[u[a+1]]),p+=f[u[a+1]].length,a+=2;break;case 23:h.push(s),0===g&&E(f[u[a+1]]),a+=2;break;case 24:d=h[h.length-1-u[a+1]],a+=2;break;case 25:d=p,a++;break;case 26:for(r=u.slice(a+4,a+4+u[a+3]),o=0;o<u[a+3];o++)r[o]=h[h.length-1-r[o]];h.splice(h.length-u[a+2],u[a+2],f[u[a+1]].apply(null,r)),a+=4+u[a+3];break;case 27:h.push(e(u[a+1])),a+=2;break;case 28:g++,a++;break;case 29:g--,a++;break;default:throw new Error("Invalid opcode: "+u[a]+".")}if(!(c.length>0))break;$=c.pop(),a=i.pop()}return h[0]}(c))!==s&&p===n.length)return i;throw i!==s&&p<n.length&&E({type:"end"}),O(y,m<n.length?n.charAt(m):null,m<n.length?v(m,m+1):v(m,m))}}}();function c(e){for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];var a=o.map(function(e){var r=t();return n[r]=e,r}).map(function(n,t){return e[t]+"%"+n+"%"}).join("");return $.parse(""+a+e[e.length-1])}return c.NATIVEDATE=r,c.DATEXPRESION=o,c.DURATIONEXPRESSION=u,c.DURATIONOBJECT=a,c._options=Object.freeze(s),Object.freeze(c)};s.NATIVEDATE=r,s.DATEXPRESION=o,s.DURATIONEXPRESSION=u,s.DURATIONOBJECT=a,n.default=s},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,o=!1,u=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){o=!0,u=e}finally{try{!r&&i.return&&i.return()}finally{if(o)throw u}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var u=n.simple=function(e){e.NATIVEDATE,e.DATEXPRESION,e.DURATIONEXPRESSION,e.DURATIONOBJECT;function n(e){var n=c.exec(e);if(n){var t="-"===n[1]?-1:1,r=function(e){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t};duration={years:r(n[2]),months:r(n[3]),weeks:r(n[4]),days:r(n[5]),hours:r(n[6]),minutes:r(n[7]),seconds:r(n[8])}}try{return JSON.parse(e)}catch(n){throw new Error("Found invalid duration "+e)}}function t(e){return e instanceof Date&&!isNaN(e.valueOf())}var u={date:function(){throw new Error("Cannot merge two dates")},unitless:function(e,n){return e+1*n},milliseconds:function(e,n){return e-1*-n},seconds:function(e,n){return e-1e3*-n},minutes:function(e,n){return e-1e3*-n*60},hours:function(e,n){return e-1e3*-n*60*60},days:function(e,n){return e-1e3*-n*60*60*24},weekdays:function(e,n){return e-1e3*-n*60*60*24},weeks:function(e,n){return e-1e3*-n*60*60*24*7},months:function(e,n){return e-1e3*-n*60*60*24*31},quarters:function(e,n){return e-1e3*-n*60*60*24*7*52/4},years:function(e,n){return e-1e3*-n*60*60*24*7*52}},a={date:function(e,n){return{milliseconds:e.getTime()-n.getTime()}},unitless:function(e,n){return e-1*n},milliseconds:function(e,n){return e-1*n},seconds:function(e,n){return e-1e3*n},minutes:function(e,n){return e-1e3*n*60},hours:function(e,n){return e-1e3*n*60*60},days:function(e,n){return e-1e3*n*60*60*24},weekdays:function(e,n){return e-1e3*n*60*60*24},weeks:function(e,n){return e-1e3*n*60*60*24*7},months:function(e,n){return e-1e3*n*60*60*24*31},quarters:function(e,n){return e-1e3*n*60*60*24*7*52/4},years:function(e,n){return e-1e3*n*60*60*24*7*52}};function i(e,n,u,a){return t(e)&&t(n)?a.date(e,n):t(e)?new Date(Object.entries(n).reduce(function(e,n){var t=r(n,2),o=t[0],u=t[1];return a[o](e,u)},e)):t(n)?new Date(Object.entries(e).reduce(function(e,n){var t=r(n,2),o=t[0],u=t[1];return a[o](e,u)},n)):Object.entries(e).reduce(function(e,t){var a=r(t,2),i=a[0],s=a[1];return Object.assign(e,o({},i,u(s,n[i]||0)))},n)}function s(e){var n=Object.keys(e);return 1===n.length&&"unitless"===n[0]}function $(e,n,t){return Object.entries(n).reduce(function(n,u){var a=r(u,2),i=a[0],s=a[1];return Object.assign(n,o({},i,t(s,e)))},{})}var c=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;return{makeDuration:function(e,t){var r=t.type;return{DURATIONEXPRESSION:n(e),DURATIONOBJECT:e}[r]},makeDate:function(e,n){var t,r=n.type;return{NATIVEDATE:e,DATEXPRESION:(t=e,new Date(t))}[r]},plus:function(e,n){return i(e,n,function(e,n){return e+n},u)},minus:function(e,n){return i(e,n,function(e,n){return e-n},a)},multiply:function(e,n){return function(e,n){if(s(e)||s(n)){var t=function(e,n){return e*n};return s(e)?$(e.unitless,n,t):$(n.unitless,e,t)}throw new Error("Can't multiply unitfull vectors with each other!")}(e,n)},divide:function(e,n){return function(e,n){if(s(n))return $(n.unitless,e,function(e,n){return e/n});throw new Error("Can't divide unitfull vectors with each other!")}(e,n)}}};n.default=u}])});